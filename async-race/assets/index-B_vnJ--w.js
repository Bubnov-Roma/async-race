var D=Object.defineProperty;var K=(e,a,t)=>a in e?D(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var g=(e,a,t)=>K(e,typeof a!="symbol"?a+"":a,t);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const j="_garage_ykli2_1",z="_nav_ykli2_10",J="_button_ykli2_20",B="_winner_ykli2_45",Z="_footer_ykli2_87",U="_create_block_ykli2_93",Q="_update_block_ykli2_94",Y="_controls_block_ykli2_95",ee="_pagination_block_ykli2_96",l={garage:j,nav:z,button:J,winner:B,footer:Z,create_block:U,update_block:Q,controls_block:Y,pagination_block:ee};class ae{constructor(){g(this,"element",document.createElement("main"));this.createElement()}createElement(){const a=`
    <header class="header">
      <div class="${l.nav}">
        <a class="${l.button} garage_btn"  href="#garage">GARAGE</a>
        <a class="${l.button} winners_btn" href="#winners">WINNERS</a>
      </div>
    </header>
    <div class="page garage-page">
      <div class="generate-cars">
        <div class="${l.create_block}">
          <input class="generate-input_text text-create" type="text" autocomplete placeholder="Enter name сar...">
          <input class="generate-input_color color-create" type="color">
          <button class="buttons btn-create">create</button>
        </div>
        <div class="${l.update_block}">
          <input class="generate-input_text text-update" type="text" autocomplete disabled="true" placeholder="Enter new name сar...">
          <input class="generate-input_color color-update" type="color" disabled="true">
          <button class="buttons btn-update" disabled="true">update</button>
        </div>
        <div class="${l.controls_block}">
          <button class="buttons btn-race">race</button>
          <button class="buttons btn-reset" disabled>reset</button>
          <button class="buttons btn-generate_cars">generate cars</button>
        </div>
      </div>

      <div class="container-garage">
        <h3 class="title">Garage <span class="count-garage"></span></h3>
        <h5 class="title">Page #<span class="count-page">1</span></h5>
    
        <div class="container-car"></div>
      </div>

      <div class="${l.pagination_block}">
        <button class="buttons btn-prev">Prev</button>
        <button class="buttons btn-next">Next</button>
      </div>

      <div id="winner" class="${l.winner}"></div>

    </div>

    <footer class="${l.footer}">
      <div class="link-github">
        <a href="https://github.com/Bubnov-Roma">GitHub</a>
      </div>
      <div class="year-create">&#9400; 2025</div>
      <div class="link-school">
        <a href="https://rs.school/">RSSchool</a>
      </div>
    </footer>
    `;return this.element.className=l.garage,this.element.innerHTML=a,this.element}}const te=new ae,oe="_winners_j2cpu_1",ne="_nav_j2cpu_10",re="_button_j2cpu_20",se="_pagination_block_j2cpu_48",ie="_container_j2cpu_55",ce="_footer_j2cpu_59",m={winners:oe,nav:ne,button:re,pagination_block:se,container:ie,footer:ce};class le{constructor(){g(this,"element",document.createElement("main"));this.createEWinnersPage()}createEWinnersPage(){const a=`
    <header class="header">
      <div class="${m.nav}">
        <a class="${m.button} garage_btn"  href="#garage">GARAGE</a>
        <a class="${m.button} winners_btn" href="#winners">WINNERS</a>
      </div>
    </header>
    <div class="page winners-page hide">
      <h1 class="title title-winners">Winners <span class="count-winners"></span></h1>
      <h3 class="title title-winners">Page #<span class="count-page_winners">1</span></h3>

      <div class="container-winners ${m.container}">
        <table class="${m.table} table-winners">
          <thead>
            <tr>
              <th>Number</th>
              <th>Car</th>
              <th>Name</th>
              <th>Wins</th>
              <th>Time</th>
            </tr>
          </thead>
          <tbody class="container-win">
          </tbody>
        </table>
      </div>

      <div class="${m.pagination_block} pagination-win">
        <button class="buttons btn-prev-win">Prev</button>
        <button class="buttons btn-next-win">Next</button>
      </div>

    </div>

    <footer class="${m.footer}">
      <div class="link-github">
        <a href="https://github.com/Bubnov-Roma">GitHub</a>
      </div>
      <div class="year-create">&#9400; 2025</div>
      <div class="link-school">
        <a href="https://rs.school/">RSSchool</a>
      </div>
    </footer>
    `;return this.element.className=`${m.winners} winners`,this.element.innerHTML=a,this.element}}const de=new le,I="http://127.0.0.1:3000/engine",F="http://127.0.0.1:3000/garage",L="http://127.0.0.1:3000/winners",ue=async e=>{await fetch(`${F}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},be="http://127.0.0.1:3000",me=async e=>{await fetch(`${be}/garage/${e}`,{method:"DELETE"})},Ce="http://127.0.0.1:3000",pe=async(e,a)=>{await fetch(`${Ce}/${e}`,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}})},ge=async e=>(await fetch(`${I}?id=${e}&status=started`,{method:"PATCH"})).json(),he="http://127.0.0.1:3000",M=async e=>await(await fetch(`${he}/garage/${e}`,{method:"GET"})).json(),ve=async e=>{await fetch(`${L}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},Se=async()=>(await fetch(`${L}`,{method:"GET"})).json(),fe=async(e,a)=>{await fetch(`${L}/${a}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},Te=(e,a)=>{const t=Number(e.dataset.car);let o=(a/1e3).toFixed(2),n=1;const r=document.querySelector("#winner");M(t).then(s=>{r&&(r.innerHTML=`${s.name} won over time ${o}`)}),Se().then(s=>{s.forEach(C=>{Number(C.id)===t&&(n+=1,o=(Number(C.time)<Number(o)?C.time:o).toString())})}).then(()=>{n>1?fe({wins:n,time:o},t):ve({id:t,wins:n,time:o})}).then(()=>Be())};let T=0,P=new Array;const ye=(e,a,t,o)=>{let n=performance.now();function r(s){n||(n=s);const C=(s-n)/t,q=C*a;e.style.transform=`translateX(${q}px)`,C<1&&(T=globalThis.requestAnimationFrame(r)),C>=1&&o&&P.length===0&&(Te(e,t),P.push(e),o=!1)}return T=globalThis.requestAnimationFrame(r),T},Ae=async e=>{(await fetch(`${I}?id=${e}&status=stopped`,{method:"PATCH"})).json()},_e="http://127.0.0.1:3000",we=`${_e}/engine`,Le=async e=>(await fetch(`${we}?id=${e}&status=drive`,{method:"PATCH"}).catch()).status,p=async(e=1)=>{console.log(e)},k=async(e,a)=>{!e||!a?alert("Please, enter name for car"):(await ue({name:`${e}`,color:`${a}`}),await p())},Pe=async e=>{await me(e),await p()},$e=async(e,a)=>{await pe(e,a),await p()},Me=()=>document.body.clientWidth-document.body.clientWidth/100*20,x=async(e,a)=>{await ge(e).then(({velocity:t,distance:o})=>{const n=o/t,r=document.querySelector(`[data-car="${e}"]`);r instanceof HTMLElement&&ye(r,Me(),n,a),Le(e).then(s=>{s.success||globalThis.cancelAnimationFrame(T)})})},H=async e=>{await Ae(e).then(()=>{globalThis.cancelAnimationFrame(T);const a=document.querySelector(`[data-car="${e}"]`);a instanceof HTMLElement&&(a.style.transform="translateX(0px)")})};let w=0;const R=async e=>{try{const t=await fetch(`${F}?_page=${e}&_limit=7`,{method:"GET"}),o=await t.json();return w=Number(t.headers.get("X-Total-count")),o}catch(t){console.error(t)}},Re=async e=>{await R(e).then(a=>{for(const t of a)H(t.id)})},ke=async e=>{await R(e).then(a=>{for(const t of a)x(t.id,!0)})},Ee=[{brand:"Seat",models:["Alhambra","Altea","Altea XL","Arosa","Cordoba","Cordoba Vario","Exeo","Ibiza","Ibiza ST","Exeo ST","Leon","Leon ST","Inca","Mii","Toledo"]},{brand:"Renault",models:["Captur","Clio","Clio Grandtour","Espace","Express","Fluence","Grand Espace","Grand Modus","Grand Scenic","Kadjar","Kangoo","Kangoo Express","Koleos","Laguna","Laguna Grandtour","Latitude","Mascott","Mégane","Mégane CC","Mégane Combi","Mégane Grandtour","Mégane Coupé","Mégane Scénic","Scénic","Talisman","Talisman Grandtour","Thalia","Twingo","Wind","Zoé"]},{brand:"Peugeot",models:["1007","107","106","108","2008","205","205 Cabrio","206","206 CC","206 SW","207","207 CC","207 SW","306","307","307 CC","307 SW","308","308 CC","308 SW","309","4007","4008","405","406","407","407 SW","5008","508","508 SW","605","806","607","807","Bipper","RCZ"]},{brand:"Dacia",models:["Dokker","Duster","Lodgy","Logan","Logan MCV","Logan Van","Sandero","Solenza"]},{brand:"Citroën",models:["Berlingo","C-Crosser","C-Elissée","C-Zero","C1","C2","C3","C3 Picasso","C4","C4 Aircross","C4 Cactus","C4 Coupé","C4 Grand Picasso","C4 Sedan","C5","C5 Break","C5 Tourer","C6","C8","DS3","DS4","DS5","Evasion","Jumper","Jumpy","Saxo","Nemo","Xantia","Xsara"]},{brand:"Opel",models:["Agila","Ampera","Antara","Astra","Astra cabrio","Astra caravan","Astra coupé","Calibra","Campo","Cascada","Corsa","Frontera","Insignia","Insignia kombi","Kadett","Meriva","Mokka","Movano","Omega","Signum","Vectra","Vectra Caravan","Vivaro","Vivaro Kombi","Zafira"]},{brand:"Alfa Romeo",models:["145","146","147","155","156","156 Sportwagon","159","159 Sportwagon","164","166","4C","Brera","GTV","MiTo","Crosswagon","Spider","GT","Giulietta","Giulia"]},{brand:"Škoda",models:["Favorit","Felicia","Citigo","Fabia","Fabia Combi","Fabia Sedan","Felicia Combi","Octavia","Octavia Combi","Roomster","Yeti","Rapid","Rapid Spaceback","Superb","Superb Combi"]},{brand:"Chevrolet",models:["Alero","Aveo","Camaro","Captiva","Corvette","Cruze","Cruze SW","Epica","Equinox","Evanda","HHR","Kalos","Lacetti","Lacetti SW","Lumina","Malibu","Matiz","Monte Carlo","Nubira","Orlando","Spark","Suburban","Tacuma","Tahoe","Trax"]},{brand:"Porsche",models:["911 Carrera","911 Carrera Cabrio","911 Targa","911 Turbo","924","944","997","Boxster","Cayenne","Cayman","Macan","Panamera"]},{brand:"Honda",models:["Accord","Accord Coupé","Accord Tourer","City","Civic","Civic Aerodeck","Civic Coupé","Civic Tourer","Civic Type R","CR-V","CR-X","CR-Z","FR-V","HR-V","Insight","Integra","Jazz","Legend","Prelude"]},{brand:"Subaru",models:["BRZ","Forester","Impreza","Impreza Wagon","Justy","Legacy","Legacy Wagon","Legacy Outback","Levorg","Outback","SVX","Tribeca","Tribeca B9","XV"]},{brand:"Mazda",models:["121","2","3","323","323 Combi","323 Coupé","323 F","5","6","6 Combi","626","626 Combi","B-Fighter","B2500","BT","CX-3","CX-5","CX-7","CX-9","Demio","MPV","MX-3","MX-5","MX-6","Premacy","RX-7","RX-8","Xedox 6"]},{brand:"Mitsubishi",models:["3000 GT","ASX","Carisma","Colt","Colt CC","Eclipse","Fuso canter","Galant","Galant Combi","Grandis","L200","L200 Pick up","L200 Pick up Allrad","L300","Lancer","Lancer Combi","Lancer Evo","Lancer Sportback","Outlander","Pajero","Pajeto Pinin","Pajero Pinin Wagon","Pajero Sport","Pajero Wagon","Space Star"]},{brand:"Lexus",models:["CT","GS","GS 300","GX","IS","IS 200","IS 250 C","IS-F","LS","LX","NX","RC F","RX","RX 300","RX 400h","RX 450h","SC 430"]},{brand:"Toyota",models:["4-Runner","Auris","Avensis","Avensis Combi","Avensis Van Verso","Aygo","Camry","Carina","Celica","Corolla","Corolla Combi","Corolla sedan","Corolla Verso","FJ Cruiser","GT86","Hiace","Hiace Van","Highlander","Hilux","Land Cruiser","MR2","Paseo","Picnic","Prius","RAV4","Sequoia","Starlet","Supra","Tundra","Urban Cruiser","Verso","Yaris","Yaris Verso"]},{brand:"BMW",models:["i3","i8","M3","M4","M5","M6","Rad 1","Rad 1 Cabrio","Rad 1 Coupé","Rad 2","Rad 2 Active Tourer","Rad 2 Coupé","Rad 2 Gran Tourer","Rad 3","Rad 3 Cabrio","Rad 3 Compact","Rad 3 Coupé","Rad 3 GT","Rad 3 Touring","Rad 4","Rad 4 Cabrio","Rad 4 Gran Coupé","Rad 5","Rad 5 GT","Rad 5 Touring","Rad 6","Rad 6 Cabrio","Rad 6 Coupé","Rad 6 Gran Coupé","Rad 7","Rad 8 Coupé","X1","X3","X4","X5","X6","Z3","Z3 Coupé","Z3 Roadster","Z4","Z4 Roadster"]},{brand:"Volkswagen",models:["Amarok","Beetle","Bora","Bora Variant","Caddy","Caddy Van","Life","California","Caravelle","CC","Crafter","Crafter Van","Crafter Kombi","CrossTouran","Eos","Fox","Golf","Golf Cabrio","Golf Plus","Golf Sportvan","Golf Variant","Jetta","LT","Lupo","Multivan","New Beetle","New Beetle Cabrio","Passat","Passat Alltrack","Passat CC","Passat Variant","Passat Variant Van","Phaeton","Polo","Polo Van","Polo Variant","Scirocco","Sharan","T4","T4 Caravelle","T4 Multivan","T5","T5 Caravelle","T5 Multivan","T5 Transporter Shuttle","Tiguan","Touareg","Touran"]},{brand:"Suzuki",models:["Alto","Baleno","Baleno kombi","Grand Vitara","Grand Vitara XL-7","Ignis","Jimny","Kizashi","Liana","Samurai","Splash","Swift","SX4","SX4 Sedan","Vitara","Wagon R+"]},{brand:"Mercedes-Benz",models:["100 D","115","124","126","190","190 D","190 E","200 - 300","200 D","200 E","210 Van","210 kombi","310 Van","310 kombi","230 - 300 CE Coupé","260 - 560 SE","260 - 560 SEL","500 - 600 SEC Coupé","Trieda A","A","A L","AMG GT","Trieda B","Trieda C","C","C Sportcoupé","C T","Citan","CL","CL","CLA","CLC","CLK Cabrio","CLK Coupé","CLS","Trieda E","E","E Cabrio","E Coupé","E T","Trieda G","G Cabrio","GL","GLA","GLC","GLE","GLK","Trieda M","MB 100","Trieda R","Trieda S","S","S Coupé","SL","SLC","SLK","SLR","Sprinter"]},{brand:"Saab",models:["9-3","9-3 Cabriolet","9-3 Coupé","9-3 SportCombi","9-5","9-5 SportCombi","900","900 C","900 C Turbo","9000"]},{brand:"Audi",models:["100","100 Avant","80","80 Avant","80 Cabrio","90","A1","A2","A3","A3 Cabriolet","A3 Limuzina","A3 Sportback","A4","A4 Allroad","A4 Avant","A4 Cabriolet","A5","A5 Cabriolet","A5 Sportback","A6","A6 Allroad","A6 Avant","A7","A8","A8 Long","Q3","Q5","Q7","R8","RS4 Cabriolet","RS4/RS4 Avant","RS5","RS6 Avant","RS7","S3/S3 Sportback","S4 Cabriolet","S4/S4 Avant","S5/S5 Cabriolet","S6/RS6","S7","S8","SQ5","TT Coupé","TT Roadster","TTS"]},{brand:"Kia",models:["Avella","Besta","Carens","Carnival","Cee`d","Cee`d SW","Cerato","K 2500","Magentis","Opirus","Optima","Picanto","Pregio","Pride","Pro Cee`d","Rio","Rio Combi","Rio sedan","Sephia","Shuma","Sorento","Soul","Sportage","Venga"]},{brand:"Land Rover",models:["109","Defender","Discovery","Discovery Sport","Freelander","Range Rover","Range Rover Evoque","Range Rover Sport"]},{brand:"Dodge",models:["Avenger","Caliber","Challenger","Charger","Grand Caravan","Journey","Magnum","Nitro","RAM","Stealth","Viper"]},{brand:"Chrysler",models:["300 C","300 C Touring","300 M","Crossfire","Grand Voyager","LHS","Neon","Pacifica","Plymouth","PT Cruiser","Sebring","Sebring Convertible","Stratus","Stratus Cabrio","Town & Country","Voyager"]},{brand:"Ford",models:["Aerostar","B-Max","C-Max","Cortina","Cougar","Edge","Escort","Escort Cabrio","Escort kombi","Explorer","F-150","F-250","Fiesta","Focus","Focus C-Max","Focus CC","Focus kombi","Fusion","Galaxy","Grand C-Max","Ka","Kuga","Maverick","Mondeo","Mondeo Combi","Mustang","Orion","Puma","Ranger","S-Max","Sierra","Street Ka","Tourneo Connect","Tourneo Custom","Transit","Transit","Transit Bus","Transit Connect LWB","Transit Courier","Transit Custom","Transit kombi","Transit Tourneo","Transit Valnik","Transit Van","Transit Van 350","Windstar"]},{brand:"Hummer",models:["H2","H3"]},{brand:"Hyundai",models:["Accent","Atos","Atos Prime","Coupé","Elantra","Galloper","Genesis","Getz","Grandeur","H 350","H1","H1 Bus","H1 Van","H200","i10","i20","i30","i30 CW","i40","i40 CW","ix20","ix35","ix55","Lantra","Matrix","Santa Fe","Sonata","Terracan","Trajet","Tucson","Veloster"]},{brand:"Infiniti",models:["EX","FX","G","G Coupé","M","Q","QX"]},{brand:"Jaguar",models:["Daimler","F-Pace","F-Type","S-Type","Sovereign","X-Type","X-type Estate","XE","XF","XJ","XJ12","XJ6","XJ8","XJ8","XJR","XK","XK8 Convertible","XKR","XKR Convertible"]},{brand:"Jeep",models:["Cherokee","Commander","Compass","Grand Cherokee","Patriot","Renegade","Wrangler"]},{brand:"Nissan",models:["100 NX","200 SX","350 Z","350 Z Roadster","370 Z","Almera","Almera Tino","Cabstar E - T","Cabstar TL2 Valnik","e-NV200","GT-R","Insterstar","Juke","King Cab","Leaf","Maxima","Maxima QX","Micra","Murano","Navara","Note","NP300 Pickup","NV200","NV400","Pathfinder","Patrol","Patrol GR","Pickup","Pixo","Primastar","Primastar Combi","Primera","Primera Combi","Pulsar","Qashqai","Serena","Sunny","Terrano","Tiida","Trade","Vanette Cargo","X-Trail"]},{brand:"Volvo",models:["240","340","360","460","850","850 kombi","C30","C70","C70 Cabrio","C70 Coupé","S40","S60","S70","S80","S90","V40","V50","V60","V70","V90","XC60","XC70","XC90"]},{brand:"Daewoo",models:["Espero","Kalos","Lacetti","Lanos","Leganza","Lublin","Matiz","Nexia","Nubira","Nubira kombi","Racer","Tacuma","Tico"]},{brand:"Fiat",models:["1100","126","500","500L","500X","850","Barchetta","Brava","Cinquecento","Coupé","Croma","Doblo","Doblo Cargo","Doblo Cargo Combi","Ducato","Ducato Van","Ducato Kombi","Ducato Podvozok","Florino","Florino Combi","Freemont","Grande Punto","Idea","Linea","Marea","Marea Weekend","Multipla","Palio Weekend","Panda","Panda Van","Punto","Punto Cabriolet","Punto Evo","Punto Van","Qubo","Scudo","Scudo Van","Scudo Kombi","Sedici","Seicento","Stilo","Stilo Multiwagon","Strada","Talento","Tipo","Ulysse","Uno","X1/9"]},{brand:"MINI",models:["Cooper","Cooper Cabrio","Cooper Clubman","Cooper D","Cooper D Clubman","Cooper S","Cooper S Cabrio","Cooper S Clubman","Countryman","Mini One","One D"]},{brand:"Rover",models:["200","214","218","25","400","414","416","620","75"]},{brand:"Smart",models:["Cabrio","City-Coupé","Compact Pulse","Forfour","Fortwo cabrio","Fortwo coupé","Roadster"]}];class Ge{constructor(){g(this,"value","");g(this,"generateFunction",a=>a==="color"?this.randomColor():this.randomModel())}randomColor(){const a=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];let t="";for(let o=1;o<7;o+=1)t+=a[this.random(a.length)];return this.value=t,`#${this.value}`}randomModel(){const{brand:a,models:t}=Ee[this.random(39)],o=this.random(t.length),n=t[o];return`${a} ${n}`}random(a){return Math.floor(Math.random()*a)}}const E=new Ge,Ne=async e=>(await fetch(`${L}?_page=${e}&_limit=10`,{method:"GET"})).json(),Ve=(e,a,t,o,n)=>`<tr">
    <td>${e}</td>
    <td>${a}</td>
    <td>${t}</td>
    <td>${o}</td>
    <td>${n}</td>
  </tr>
`,W=e=>`<svg  width="5vw" height="4vw" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 17.485 10.5" xml:space="preserve" style="fill:${e};" stroke="white" stroke-width="2%"><g id="SVGRepo_bgCarrier"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path style="fill:#${e};" d="M17.477,8.149c-0.079-0.739-3.976-0.581-3.976-0.581L11.853,5.23H4.275L3.168,7.567H0v2.404 l2.029,0.682c0.123-0.836,0.843-1.48,1.711-1.48c0.939,0,1.704,0.751,1.73,1.685l6.62,0.041c0.004-0.951,0.779-1.726,1.733-1.726 c0.854,0,1.563,0.623,1.704,1.439l1.479-0.17C17.006,10.442,17.556,8.887,17.477,8.149z M4.007,7.568l0.746-1.771h2.864 l0.471,1.771H4.007z M8.484,7.568L8.01,5.797h3.67l1.137,1.771H8.484z"></path> <circle style="fill:#${e};" cx="3.759" cy="10.966" r="1.289"></circle> <circle style="fill:#${e};" cx="13.827" cy="10.9" r="1.29"></circle> </g> </g> </g></svg>`,Xe="_car_1ha26_1",Ie="_stop_1ha26_6",Fe="_options_1ha26_10",xe="_control_1ha26_11",He="_select_1ha26_17",We="_remove_1ha26_18",Oe="_start_1ha26_19",qe="_title_1ha26_27",De="_img_1ha26_32",Ke="_finish_1ha26_37",d={car:Xe,stop:Ie,options:Fe,control:xe,select:He,remove:We,start:Oe,title:qe,img:De,finish:Ke},je=(e,a,t="#fede00")=>`<div class="${d.car}">
    <div class="${d.options}">
      <button class="${d.select}" data-select=${e}>Select</button>
      <button class="${d.remove}" data-remove=${e}>Remove</button>
      <h6 class="${d.title}">${a}</h6>
    </div>
    <div class="${d.control}">
      <button class="${d.start}" id="start-${e}" data-start=${e} >Start</button>
      <button class="${d.stop}" id="stop-${e}" data-stop=${e} disabled="true">Stop</button>
      <div class="${d.img}" id="car-${e}" data-car=${e}>${W(t)}</div>
      <div class="${d.finish}"></div>
    </div>
  </div>
`;let G=0,c=1,N=1;const b=class b{static renderNewPage(a){b.removeAllChildren(this.root);let t=null;switch(a){case"garage":{t=te.element;break}case"winners":{t=de.element;break}}t&&(b.root.append(t),t.classList.contains("winners"),t.classList.contains("garage")&&p())}static removeAllChildren(a){for(;a.firstChild;)a.removeChild(a.firstChild)}static enableRouteChange(){b.renderNewPage(b.getHash()),globalThis.addEventListener("hashchange",b.enableRouteChange)}static getHash(){return globalThis.location.hash===""?"garage":globalThis.location.hash.slice(1)}start(){b.enableRouteChange()}};g(b,"root",document.body);let $=b;const ze=new $;ze.start();document.querySelector(".generate-cars");const V=document.querySelector(".count-garage"),X=document.querySelector(".btn-update"),S=document.querySelector(".text-update"),f=document.querySelector(".color-update"),y=document.querySelector(".text-create"),A=document.querySelector(".color-create"),u=document.querySelector(".btn-next"),i=document.querySelector(".btn-prev"),_=document.querySelector(".count-page"),h=document.querySelector(".btn-race"),v=document.querySelector(".btn-reset");function Je(e){const a=e.target;if(a instanceof HTMLElement){const t=a.className;if(t.match("btn-create")&&(y!=null&&y.value)&&(A!=null&&A.value)&&k(y.value,A.value),t.match("_remove_")&&a.dataset.remove&&Pe(Number.parseInt(a.dataset.remove)),t.match("select")&&a.dataset.select&&(S&&f&&X&&(S.disabled=!1,f.disabled=!1,X.disabled=!1,M(Number.parseInt(a.dataset.select))),G=Number.parseInt(a.dataset.select)),t.match("btn-update")){const o=S==null?void 0:S.value,n=f==null?void 0:f.value;$e(G,{name:o,color:n})}if(t.match(".btn-generate_cars"))for(let o=0;o<100;o+=1){const n=E.generateFunction("model"),r=E.generateFunction("color");k(n,r),p()}if(t.match("btn-next"))if(c*7<=w)_!==null&&(_.innerHTML=`${c+=1}`,p(c),i==null||i.removeAttribute("disabled")),c*7>w&&(u==null||u.setAttribute("disabled","disabled"),i==null||i.removeAttribute("disabled"));else return;if(t.match("btn-prev"))if(c>1)_!==null&&(_.innerHTML=`${c-=1}`,i==null||i.removeAttribute("disabled"),u==null||u.removeAttribute("disabled"),p(c)),c===1&&(i==null||i.setAttribute("disabled","disabled"),u==null||u.removeAttribute("disabled"));else return;if(t.match("_start_")){const o=e.target;if(o instanceof HTMLElement){const n=Number(o.dataset.start),r=document.querySelector(`[data-stop="${n}"]`);a!==null&&r!==null&&(x(n,!1),o.setAttribute("disabled","disabled"),r.removeAttribute("disabled"))}}if(t.match("_stop_")){const o=e.target;if(o instanceof HTMLElement){const n=Number(o.dataset.stop),r=document.querySelector(`[data-start="${n}"]`);a!==null&&r!==null&&(H(n),o.setAttribute("disabled","disabled"),r.removeAttribute("disabled"))}}if(t.match("btn-race")&&(ke(c),h==null||h.setAttribute("disabled","disabled"),v==null||v.removeAttribute("disabled")),t.match("btn-reset")){Re(c),v==null||v.setAttribute("disabled","disabled"),h==null||h.removeAttribute("disabled"),P.length=0;const o=document.querySelector("#winner");o&&(o.innerHTML="")}t.match("winners_btn")&&globalThis.addEventListener("load",()=>{})}}document==null||document.addEventListener("click",Je);function Be(){return""}const O=()=>{if(globalThis.location.hash==="#garage"){const e=document.querySelector(".container-car");R(c).then(a=>{e&&(e.innerHTML="");for(const t of a){const o=`${je(t.id,t.name,t.color)}`;e&&(e.innerHTML+=o)}V!==null&&(V.textContent=`total cars - ${w}`)})}if(globalThis.location.hash==="#winners"){const e=document.querySelector(".container-win");let a=N*10-10;Ne(N).then(t=>{e&&(e.innerHTML="");for(const o of t)M(o.id).then(n=>{const r=W(n.color);a+=1;const s=`${Ve(a,r,n.name,o.wins,o.time)}`;e&&(e.innerHTML+=s)})})}};O();globalThis.addEventListener("hashchange",O);
